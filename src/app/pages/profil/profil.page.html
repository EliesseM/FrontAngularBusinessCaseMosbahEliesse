<!-- profil.page.html -->
<ion-content>
  @if (currentUser$ | async; as user) {
  <div class="profile-container">
    <div class="profile-header">
      <ion-icon name="person-circle" size="large" color="primary"></ion-icon>
      <h1>{{ user.username }}</h1>
      @if (user.roles.includes('proprietaire')) {
      <ion-chip color="warning" class="owner-badge">
        <ion-icon name="star" slot="start"></ion-icon>
        <ion-label>Propriétaire</ion-label>
      </ion-chip>
      }
    </div>

    <ion-card>
      <ion-card-header>
        <ion-card-title>Informations personnelles</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-item>
          <ion-icon name="person" slot="start"></ion-icon>
          <ion-label>
            <h3>Nom</h3>
            <p>{{ user.nom }}</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="person" slot="start"></ion-icon>
          <ion-label>
            <h3>Prénom</h3>
            <p>{{ user.prenom }}</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="mail" slot="start"></ion-icon>
          <ion-label>
            <h3>Email</h3>
            <p>{{ user.email }}</p>
          </ion-label>
        </ion-item>
      </ion-card-content>
    </ion-card>
  </div>
  } @else {
  <div class="login-prompt">
    <ion-icon
      name="person-circle-outline"
      size="large"
      color="medium"
    ></ion-icon>
    <h2>Non connecté</h2>
    <p>Connectez-vous pour accéder à votre profil</p>
    <ion-button expand="block" routerLink="/login">
      <ion-icon name="log-in" slot="start"></ion-icon>
      Se connecter
    </ion-button>
  </div>
  }
</ion-content>
